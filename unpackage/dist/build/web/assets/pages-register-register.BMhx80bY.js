import{R as e,c as a,w as l,i as s,a as u,b as t,e as o,t as n,H as d,n as c,d as r,f as p,I as i,l as v}from"./index-DD8SDI5w.js";import{_ as m}from"./_plugin-vue_export-helper.BCo6x5W8.js";const f=m({__name:"register",setup(m){const f=e(""),g=e(""),_=e(""),h=e(""),V=e("");function y(){f.value?V.value="验证码已发送到您的手机号":V.value="请输入手机号"}function j(){V.value="",f.value?g.value?_.value?h.value?_.value===h.value?fetch("http://129.204.151.245:5001/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNum:f.value,password:_.value})}).then((e=>e.json())).then((e=>{"true"===e.message?(alert("注册成功！"),c({url:"/pages/login/login"})):V.value=e.message||"注册失败，请稍后再试"})).catch((e=>{console.error("注册请求失败:",e),V.value="注册请求失败，请稍后再试"})):V.value="两次输入的密码不一致":V.value="请再次确认您的密码":V.value="请设置您的密码":V.value="请输入验证码":V.value="请输入您的手机号"}return(e,c)=>{const m=r,x=p,k=i,w=s,U=v;return u(),a(w,{class:"container"},{default:l((()=>[t(m,{class:"logo",src:"/yangshiji/assets/register-q4kOvumK.jpg",mode:"aspectFit"}),t(w,{class:"input-group"},{default:l((()=>[t(x,{class:"icon"},{default:l((()=>[o("📱")])),_:1}),t(k,{type:"text",placeholder:"请输入您的手机号",class:"input",modelValue:f.value,"onUpdate:modelValue":c[0]||(c[0]=e=>f.value=e)},null,8,["modelValue"])])),_:1}),t(w,{class:"input-group"},{default:l((()=>[t(x,{class:"icon"},{default:l((()=>[o("🔑")])),_:1}),t(k,{type:"text",placeholder:"请输入验证码",class:"input",modelValue:g.value,"onUpdate:modelValue":c[1]||(c[1]=e=>g.value=e)},null,8,["modelValue"]),t(x,{class:"get-code",onClick:y},{default:l((()=>[o("获取验证码")])),_:1})])),_:1}),t(w,{class:"input-group"},{default:l((()=>[t(x,{class:"icon"},{default:l((()=>[o("🔒")])),_:1}),t(k,{type:"password",placeholder:"请设置您的密码",class:"input",modelValue:_.value,"onUpdate:modelValue":c[2]||(c[2]=e=>_.value=e)},null,8,["modelValue"])])),_:1}),t(w,{class:"input-group"},{default:l((()=>[t(x,{class:"icon"},{default:l((()=>[o("📧")])),_:1}),t(k,{type:"password",placeholder:"再次确认您的密码",class:"input",modelValue:h.value,"onUpdate:modelValue":c[3]||(c[3]=e=>h.value=e)},null,8,["modelValue"])])),_:1}),t(U,{class:"register-button",onClick:j},{default:l((()=>[o("立即注册")])),_:1}),V.value?(u(),a(w,{key:0,class:"error-message"},{default:l((()=>[o(n(V.value),1)])),_:1})):d("",!0)])),_:1})}}},[["__scopeId","data-v-cd584207"]]);export{f as default};
