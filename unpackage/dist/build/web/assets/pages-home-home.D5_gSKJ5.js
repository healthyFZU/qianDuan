import{n as e,c as a,w as s,i,a as t,U as n,b as l,v as r,x as o,e as c,t as d,F as g,Y as m,H as f,d as u,f as h,l as p}from"./index-DD8SDI5w.js";import{a as k}from"./axios.CCYSaZn9.js";import{_}from"./background.9mxQRA6f.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";const I=y({data:()=>({icons:[{src:"../../static/é£Ÿè°±æŸ¥è¯¢.png",link:"/pages/shiwuchaxun/shiwuchaxun"},{src:"../../static/æŽ’è¡Œæ¦œ.png",link:"/pages/paihang/paihang"},{src:"../../static/çº¢é»‘æ¦œ.png",link:"/pages/redblack/redblack"},{src:"../../static/éšå¿ƒé….png",link:"/pages/suixin/suixin"}],rankingItems:[],recipes:[],loading:!0,error:!1}),mounted(){this.getRankingItems(),this.getRecipes()},methods:{getRankingItems(){k.get("http://129.204.151.245:5001/ingredients/random3").then((e=>{200===e.status&&e.data?Array.isArray(e.data)?(this.rankingItems=e.data.map((e=>({name:e.ingredient_name,image:e.url||"/pages/images/logo.jpg",type:e.type||"æš‚æ— ç±»åž‹ä¿¡æ¯",link:`/pages/foodDetail/foodDetail?foodId=${e.ingredient_id}`,foodId:e.ingredient_id}))),console.log("é£Ÿç‰©æŽ’è¡Œæ¦œæ•°æ®èŽ·å–æˆåŠŸ:",this.rankingItems)):(console.error("åŽç«¯è¿”å›žçš„æ•°æ®ä¸æ˜¯æ•°ç»„:",e.data),this.error=!0):(console.error("èŽ·å–é£Ÿç‰©æŽ’è¡Œæ¦œæ•°æ®å¤±è´¥:",e),this.error=!0)})).catch((e=>{console.error("è¯·æ±‚é£Ÿç‰©æŽ’è¡Œæ¦œæ•°æ®å¤±è´¥:",e),this.error=!0})).finally((()=>{this.loading=!1}))},getRecipes(){k.get("http://129.204.151.245:5001/dishes/random3").then((e=>{200===e.status&&e.data?Array.isArray(e.data)?(this.recipes=e.data.map((e=>({name:e.dish_name,image:e.dish_image||"/pages/images/logo.jpg",score:e.score||"æš‚æ— è¯„åˆ†",link:`/pages/dishDetail/dishDetail?dishId=${e.dishId}&merchantId=${e.merchant_id}`,dishId:e.dishId,merchantId:e.merchant_id}))),console.log("é£Ÿè°±æŽ¨èæ•°æ®èŽ·å–æˆåŠŸ:",this.recipes)):(console.error("åŽç«¯è¿”å›žçš„æ•°æ®ä¸æ˜¯æ•°ç»„:",e.data),this.error=!0):(console.error("èŽ·å–é£Ÿè°±æŽ¨èæ•°æ®å¤±è´¥:",e),this.error=!0)})).catch((e=>{console.error("è¯·æ±‚é£Ÿè°±æŽ¨èæ•°æ®å¤±è´¥:",e),this.error=!0})).finally((()=>{this.loading=!1}))},refreshRankingItems(){console.log("åˆ·æ–°é£Ÿç‰©æŽ’è¡Œæ¦œæ•°æ®..."),this.getRankingItems()},refreshRecipes(){console.log("åˆ·æ–°é£Ÿè°±æŽ¨èæ•°æ®..."),this.getRecipes()},navigateToDetail(a){a.link?(console.log("Navigating to:",a.link),e({url:a.link,fail:e=>{console.error("Navigation failed:",e)}})):console.error("No link found for item:",a)}}},[["render",function(e,k,y,I,v,C){const x=u,D=h,R=i,b=p;return t(),a(R,{class:"container"},{default:s((()=>[n("div",{class:"main-image"},[n("img",{src:_,alt:"logo",class:"background-image"})]),l(R,{class:"icon-group"},{default:s((()=>[(t(!0),r(g,null,o(v.icons,(e=>(t(),a(R,{class:"icon-item",key:e.text,onClick:a=>C.navigateToDetail(e)},{default:s((()=>[l(x,{class:"icon-image",src:e.src},null,8,["src"]),l(D,{class:"icon-text"},{default:s((()=>[c(d(e.text),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),l(R,{class:"nutrition-diary"},{default:s((()=>[l(R,{class:"diary-item"},{default:s((()=>[l(R,{class:"diary-content"},{default:s((()=>[l(D,{class:"diary-title"},{default:s((()=>[c("è¥å…»æ—¥è®°")])),_:1}),l(D,{class:"diary-fruit"},{default:s((()=>[c("è‰èŽ“")])),_:1}),l(D,{class:"diary-description"},{default:s((()=>[c("ç™¾å˜å†¬æ—¥å°ç”œå¿ƒï¼Œä½Žå¡ä½Žç³–ï¼Œè¥å…»ä¸å‡ã€‚")])),_:1})])),_:1}),l(x,{class:"diary-image",src:"/yangshiji/assets/%E8%8D%89%E8%8E%93-BBZhABcv.png"})])),_:1})])),_:1}),v.rankingItems.length>0?(t(),a(R,{key:0,class:"food-ranking"},{default:s((()=>[l(R,{class:"ranking-header"},{default:s((()=>[l(D,{class:"ranking-title"},{default:s((()=>[c("é£Ÿç‰©æŽ’è¡Œ")])),_:1}),l(D,{class:"refresh-icon",alt:"æ¢ä¸€æ¢",onClick:C.refreshRankingItems},{default:s((()=>[c("ðŸ”„ ")])),_:1},8,["onClick"]),l(D,{class:"ranking-subtitle"},{default:s((()=>[c("æ›´å¥åº·çš„é£Ÿæ")])),_:1})])),_:1}),l(R,{class:"ranking-items"},{default:s((()=>[(t(!0),r(g,null,o(v.rankingItems,(e=>(t(),a(R,{class:"ranking-item",key:e.name,onClick:a=>C.navigateToDetail(e)},{default:s((()=>[l(x,{class:"food-image",src:e.image},null,8,["src"]),l(R,{class:"ranking-info"},{default:s((()=>[l(D,{class:"food-name"},{default:s((()=>[c(d(e.name),1)])),_:2},1024),l(D,{class:"food-type"},{default:s((()=>[c(d(e.type),1)])),_:2},1024)])),_:2},1024),l(b,{class:"view-button",onClick:m((a=>C.navigateToDetail(e)),["stop"])},{default:s((()=>[c("æŸ¥çœ‹")])),_:2},1032,["onClick"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):f("",!0),v.recipes.length>0?(t(),a(R,{key:1,class:"recipe-recommendation"},{default:s((()=>[l(R,{class:"recommendation-header"},{default:s((()=>[l(D,{class:"recommendation-title"},{default:s((()=>[c("é£Ÿè°±æŽ¨è")])),_:1}),l(D,{class:"refresh-icon",alt:"æ¢ä¸€æ¢",onClick:C.refreshRecipes},{default:s((()=>[c("ðŸ”„ ")])),_:1},8,["onClick"]),l(D,{class:"recommendation-subtitle"},{default:s((()=>[c("æ›´é€‚åˆä½ çš„é£Ÿè°±")])),_:1})])),_:1}),l(R,{class:"recommendation-items"},{default:s((()=>[(t(!0),r(g,null,o(v.recipes,(e=>(t(),a(R,{class:"recommendation-item",key:e.dishId,onClick:a=>C.navigateToDetail(e)},{default:s((()=>[l(x,{class:"recipe-image",src:e.image},null,8,["src"]),l(R,{class:"recipe-info"},{default:s((()=>[l(D,{class:"recipe-name"},{default:s((()=>[c(d(e.name),1)])),_:2},1024),l(D,{class:"recipe-score"},{default:s((()=>[c(d(e.score),1)])),_:2},1024)])),_:2},1024),l(b,{class:"view-button",onClick:m((a=>C.navigateToDetail(e)),["stop"])},{default:s((()=>[c("æŸ¥çœ‹")])),_:2},1032,["onClick"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):f("",!0)])),_:1})}],["__scopeId","data-v-606f9770"]]);export{I as default};
