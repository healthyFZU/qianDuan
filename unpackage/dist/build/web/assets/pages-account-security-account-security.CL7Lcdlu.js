import{R as e,v as a,b as s,U as l,t as o,H as t,w as n,n as r,V as u,I as c,l as i,f as p,a as d,e as v,d as g}from"./index-DD8SDI5w.js";import{_ as m}from"./login.CaPDJO-K.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=f({__name:"account-security",setup(f){const _=e(""),h=e(""),k=e("");function y(){r({url:"/pages/register/register"})}function w(){r({url:"/pages/forgetpwd/forgetpwd"})}async function V(){if(k.value="",_.value)if(h.value)try{const e=await fetch("http://129.204.151.245:5001/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNum:_.value,password:h.value})}),a=await e.json();e.ok&&a.access_token?(alert("登录成功"),u({url:"/pages/home/home"})):k.value=a.message||"登录失败，请检查您的手机号和密码"}catch(e){console.error("登录请求失败:",e),k.value="登录请求失败，请稍后再试"}else k.value="请输入您的密码";else k.value="请输入您的手机号"}return(e,r)=>{const u=g,f=c,j=i,b=p;return d(),a("div",{class:"login-container"},[s(u,{class:"logo",src:m,mode:"aspectFit"}),l("div",{class:"input-group"},[l("span",{class:"icon"},"📱"),s(f,{type:"text",modelValue:_.value,"onUpdate:modelValue":r[0]||(r[0]=e=>_.value=e),placeholder:"请输入您的手机号"},null,8,["modelValue"])]),l("div",{class:"input-group"},[l("span",{class:"icon"},"🔒"),s(f,{type:"password",modelValue:h.value,"onUpdate:modelValue":r[1]||(r[1]=e=>h.value=e),placeholder:"请输入您的密码"},null,8,["modelValue"])]),k.value?(d(),a("div",{key:0,class:"error-message"},o(k.value),1)):t("",!0),s(j,{class:"login-button",onClick:V},{default:n((()=>[v("登录")])),_:1}),l("div",{class:"footer-links"},[s(b,{onClick:y,class:"register-link"},{default:n((()=>[v("注册账号")])),_:1}),s(b,{onClick:w,class:"forgot-password-link"},{default:n((()=>[v("忘记密码")])),_:1})])])}}},[["__scopeId","data-v-7d7bc017"]]);export{_ as default};
