import{R as e,v as a,b as s,U as l,t as o,H as t,w as n,n as r,V as u,I as c,l as i,f as p,a as d,e as v,d as g}from"./index-DD8SDI5w.js";import{_ as m}from"./login.CaPDJO-K.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=f({__name:"account-security",setup(f){const _=e(""),h=e(""),k=e("");function y(){r({url:"/pages/register/register"})}function w(){r({url:"/pages/forgetpwd/forgetpwd"})}async function V(){if(k.value="",_.value)if(h.value)try{const e=await fetch("http://129.204.151.245:5001/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNum:_.value,password:h.value})}),a=await e.json();e.ok&&a.access_token?(alert("ç™»å½•æˆåŠŸ"),u({url:"/pages/home/home"})):k.value=a.message||"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ‚¨çš„æ‰‹æœºå·å’Œå¯†ç "}catch(e){console.error("ç™»å½•è¯·æ±‚å¤±è´¥:",e),k.value="ç™»å½•è¯·æ±‚å¤±è´¥ï¼Œè¯·ç¨åå†è¯•"}else k.value="è¯·è¾“å…¥æ‚¨çš„å¯†ç ";else k.value="è¯·è¾“å…¥æ‚¨çš„æ‰‹æœºå·"}return(e,r)=>{const u=g,f=c,j=i,b=p;return d(),a("div",{class:"login-container"},[s(u,{class:"logo",src:m,mode:"aspectFit"}),l("div",{class:"input-group"},[l("span",{class:"icon"},"ğŸ“±"),s(f,{type:"text",modelValue:_.value,"onUpdate:modelValue":r[0]||(r[0]=e=>_.value=e),placeholder:"è¯·è¾“å…¥æ‚¨çš„æ‰‹æœºå·"},null,8,["modelValue"])]),l("div",{class:"input-group"},[l("span",{class:"icon"},"ğŸ”’"),s(f,{type:"password",modelValue:h.value,"onUpdate:modelValue":r[1]||(r[1]=e=>h.value=e),placeholder:"è¯·è¾“å…¥æ‚¨çš„å¯†ç "},null,8,["modelValue"])]),k.value?(d(),a("div",{key:0,class:"error-message"},o(k.value),1)):t("",!0),s(j,{class:"login-button",onClick:V},{default:n((()=>[v("ç™»å½•")])),_:1}),l("div",{class:"footer-links"},[s(b,{onClick:y,class:"register-link"},{default:n((()=>[v("æ³¨å†Œè´¦å·")])),_:1}),s(b,{onClick:w,class:"forgot-password-link"},{default:n((()=>[v("å¿˜è®°å¯†ç ")])),_:1})])])}}},[["__scopeId","data-v-7d7bc017"]]);export{_ as default};
